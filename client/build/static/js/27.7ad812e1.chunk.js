(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{649:function(e,t,n){"use strict";var c=n(663),r=n.n(c).a.create({baseURL:"http://support.jetterhover.com/api",responseType:"json"});t.a=r},739:function(e,t,n){"use strict";n.r(t);var c=n(651),r=n.n(c),s=n(652),a=n(644),l=n(1),i=n(21),o=n(642),u=n(22),j=function(e){var t=e.appeal,n=t.status,c=t.from,r=t.orderId,s=t.text,a=t.reqidenty,l=t.date,i=t.photos;return Object(u.jsx)("div",{children:Object(u.jsxs)(o.u,{children:[Object(u.jsxs)(o.j,{accentColor:"open"===n?"danger":"process"===n?"warning":"closed"===n?"success":void 0,children:[Object(u.jsxs)(o.n,{className:"reqCardHeader",children:[Object(u.jsxs)("div",{id:"title",children:["\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",Object(u.jsx)("b",{children:c.name})]}),r?Object(u.jsxs)("div",{id:"subtitle",children:["\u043a \u0437\u0430\u043a\u0430\u0437\u0443 \u2116 ",r]}):null]}),Object(u.jsxs)(o.k,{children:[s,Object(u.jsxs)("div",{className:"mt-2 cardFooter",children:["#",a," \u043e\u0442 ",l]})]})]}),i?i.map((function(e){return Object(u.jsx)("img",{className:"reclamPhoto",src:e,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})})):null]})})},d=n(46),p=n(649),b=function(e){var t=Object(l.useState)(""),n=Object(a.a)(t,2),c=n[0],i=n[1],j=e.info,d=e.setInfo,b=e.appeal.from,h=b.id,x=b.name,f=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/appeal/sendMessage",{id:h,msg:c});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(o.eb,{show:j,onClose:function(){return d(!j)},color:"info",children:[Object(u.jsx)(o.hb,{closeButton:!0,children:Object(u.jsxs)(o.ib,{children:["\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e ",x]})}),Object(u.jsx)(o.fb,{children:Object(u.jsxs)(o.K,{row:!0,children:[Object(u.jsx)(o.u,{md:"3",children:Object(u.jsx)(o.ab,{htmlFor:"textarea-input",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})}),Object(u.jsx)(o.u,{xs:"12",md:"9",children:Object(u.jsx)(o.Ib,{name:"textarea-input",id:"textarea-input",rows:"9",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 ...",onChange:function(e){i(e.target.value)}})})]})}),Object(u.jsxs)(o.gb,{children:[Object(u.jsx)(o.f,{color:"secondary",onClick:function(){return d(!j)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(u.jsx)(o.f,{color:"info",onClick:function(){f(),d(!j)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})," "]})]})},h=function(e){var t=Object(i.g)(),n=Object(l.useState)(!1),c=Object(a.a)(n,2),j=c[0],h=c[1],x=Object(l.useState)(!1),f=Object(a.a)(x,2),O=f[0],m=f[1],g=e.appeal,v=g.status,k=g.photos,N=g.videos,w=g.documents,C=g._id,y=function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.put("appeal/status",{id:C,status:n});case 3:e.setAppeal(Object(d.a)(Object(d.a)({},e.appeal),{},{status:n})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/appeal/".concat(n));case 3:t.push("/home"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,p.a.get("/appeal/pdf/".concat(t));case 4:n=e.sent,c=n.data,window.open("".concat(c)),m(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"reqBtns",children:[Object(u.jsxs)(o.z,{className:"m-1",children:[Object(u.jsx)(o.E,{split:!0,color:function(){switch(v){case"open":return"danger";case"process":return"warning";case"closed":return"success"}}(),size:"lg",children:function(){switch(v){case"open":return"\u041e\u0442\u043a\u0440\u044b\u0442\u043e";case"process":return"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435";case"closed":return"\u0417\u0430\u043a\u0440\u044b\u0442\u043e"}}()}),Object(u.jsxs)(o.D,{children:["closed"===v?Object(u.jsx)(o.C,{disabled:!0,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u043e"}):Object(u.jsx)(o.C,{onClick:function(){return y("closed")},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u043e"}),"process"===v?Object(u.jsx)(o.C,{disabled:!0,children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}):Object(u.jsx)(o.C,{onClick:function(){return y("process")},children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}),"open"===v?Object(u.jsx)(o.C,{disabled:!0,children:"\u041e\u0442\u043a\u0440\u044b\u0442\u043e"}):Object(u.jsx)(o.C,{onClick:function(){return y("open")},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u043e"})]})]}),Object(u.jsx)(o.f,{color:"info",onClick:function(){return h(!j)},className:"tgResponseBtn mr-1",children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})]}),Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)("b",{children:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"})}),Object(u.jsxs)("li",{className:"list-group-item",children:["\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",Object(u.jsx)("span",{className:"badge badge-primary ml-1",children:k.length}),Object(u.jsx)("div",{className:"filesList mt-2",children:k.length?k.map((function(e,t){return Object(u.jsxs)("a",{rel:"noreferrer",target:"_blank",href:e,children:["\u0424\u0430\u0439\u043b #",t+1]})})):null})]}),Object(u.jsxs)("li",{className:"list-group-item",children:["\u0412\u0438\u0434\u0435\u043e",Object(u.jsx)("span",{className:"badge badge-primary ml-1",children:N.length}),Object(u.jsx)("div",{className:"filesList mt-2",children:N.length?N.map((function(e,t){return Object(u.jsxs)("a",{rel:"noreferrer",target:"_blank",href:e,children:["\u0424\u0430\u0439\u043b #",t+1]})})):null})]}),Object(u.jsxs)("li",{className:"list-group-item",children:["\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",Object(u.jsx)("span",{className:"badge badge-primary ml-1",children:w.length}),Object(u.jsx)("div",{className:"filesList mt-2",children:w.length?w.map((function(e,t){return Object(u.jsxs)("a",{rel:"noreferrer",target:"_blank",href:e,children:["\u0424\u0430\u0439\u043b #",t+1]})})):null})]}),Object(u.jsx)("li",{className:"pdfButton",children:O?Object(u.jsx)("div",{className:"p-3",children:Object(u.jsx)(o.a,{color:"danger",children:"\u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435, \u0433\u043e\u0442\u043e\u0432\u043b\u044e \u0434\u043b\u044f \u0432\u0430\u0441 \u043e\u0442\u0447\u0451\u0442..."})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(){return _(C)},className:"btn btn-danger m-3",children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043e\u0442\u0447\u0451\u0442 \u0432 PDF"}),Object(u.jsx)("button",{onClick:function(){return I(C)},className:"btn btn-secondary mt-3",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0430\u0446\u0438\u044e"})]})})]})}),Object(u.jsx)(b,{info:j,setInfo:h,appeal:e.appeal})]})};t.default=function(){var e=Object(i.h)(),t=Object(l.useState)({}),n=Object(a.a)(t,2),c=n[0],o=n[1];return Object(l.useEffect)((function(){var t=e.pathname.split("/").lastItem,n=function(){var e=Object(s.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("appeal/single/".concat(t));case 3:n=e.sent,o(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();n()}),[e.pathname]),c._id?Object(u.jsxs)("div",{className:"requestContainer",children:[Object(u.jsx)(j,{appeal:c}),Object(u.jsx)(h,{appeal:c,setAppeal:o})]}):null}}}]);
//# sourceMappingURL=27.7ad812e1.chunk.js.map